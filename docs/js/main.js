function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}jQuery;var API="/app/ajax/";Inputmask.extendDefinitions({f:{validator:"[0-7|9]"}});var phoneMask="+7 (f99) 999-99-99",scrollBarWidth=getScrollbarWidth();function getScrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth}AOS.init({disable:"mobile",once:!0,duration:750}),$.noConflict(),jQuery(document).ready(function(t){if(t("body").removeClass("pageload"),"function"!=typeof Promise)document.createElement("picture"),a="/js/polyfills/browser.js",o=r,(i=document.createElement("script")).src=a,i.onload=function(){o()},i.onerror=function(){throw new Error("Failed to load script "+a)},document.head.appendChild(i);else{var e=performance.now();r();var n=performance.now();console.log("globalInitFunction took "+Math.floor(n-e)+"ms.")}var a,o,i;function r(){t.fancybox.defaults.hash=!1;var e,n,a,o,i,r,s,l,c=function(t,e,n){var a;return function(){var o=this,i=arguments,r=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||t.apply(o,i)},e),r&&t.apply(o,i)}};function d(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{processData:!0,contentType:"application/x-www-form-urlencoded"};return new Promise(function(o,i){t.ajax({url:API+e,type:"POST",data:n,processData:a.processData,contentType:a.contentType,success:function(t){var e=function(t){var e;try{e=JSON.parse(t)}catch(t){}return e}(t);o(e)},error:function(t){i(t)}})})}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t(e).offset().top;t("html, body").animate({scrollTop:o-a},n)}Inputmask.extendDefinitions({f:{validator:"[0-7|9]"}}),t("[data-scroll-to]").on("click",function(e){var n=t(this),a=n.data("scroll-to"),o=t("#".concat(a)),i=n.data("scroll-offset")||0;1===o.length&&u(o,300,i)}),t(".about-top__video-snippet").modalVideo({allowAutoplay:!0}),e=t(".authorization__toggle"),n=t(".authorization__logged"),a=t(".authorization__list"),n.on("click",function(){e.toggleClass("active"),a.hasClass("active")?(a.slideUp(),a.removeClass("active")):(a.slideDown(),a.addClass("active"))}),o=t(".base-input__input"),i=t(".base-input-autocomplete"),o.each(function(){""!==t(this).val().trim()&&t(this).addClass("hasValue"),t(this).on("blur",function(){""!==t(this).val().trim()?t(this).addClass("hasValue"):t(this).removeClass("hasValue")})}),i.each(function(){var e=t(this).find("input"),n=t(this).find("label");e.on("focus",function(){n.addClass("js-focus")}),e.on("blur",function(){n.removeClass("js-focus")})}),r=t(".base-select__input"),s=t(".base-select__options-list"),l=t(".base-select__options-item"),0!=r.length&&(""!==r.val().trim()&&r.addClass("hasValue"),r.on("blur",function(){""!==r.val().trim()?r.addClass("hasValue"):r.removeClass("hasValue")}),r.on("click",function(){r.parent().addClass("active"),s.slideDown()}),t(document).on("click",function(t){r.parent().hasClass("active")&&t.target!==r&&0===r.parent().has(t.target).length&&(r.parent().removeClass("active"),s.slideUp())}),l.each(function(){t(this).on("click",function(e){var n=t(this).text();r.val(n),r.addClass("hasValue"),r.parent().removeClass("active"),s.slideUp()})})),function(){var e=t(".best-object-card");if(0!==e.length){var n=["#1cb96f","#fed63f","#ffa30c"];e.each(function(e,a){var o=parseInt(t(a).data("rate")),i=t(a).find(".best-object-card__rate");o>=80?i.css("color",n[0]):o<80&&o>=50?i.css("color",n[1]):i.css("color",n[2]),t(a).css("top","calc(".concat(100-o,"% + ").concat(8,"px"))})}}(),0!==t(".best-objects").length&&t(".best-objects__objects").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0,mobileFirst:!0,infinite:!1,responsive:[{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:1023,settings:{slidesToShow:2.25}},{breakpoint:1199,settings:{slidesToShow:3}}]}),0!==t(".contacts").length&&ymaps.ready(function(){var t=new ymaps.Map("map",{center:[55.749511,37.537083],zoom:15,controls:["zoomControl"]}),e=new ymaps.Placemark([55.749511,37.537083],{hintContent:"123112, Москва, Пресненская наб., д. 12, МФК «Федерация Восток»",balloonContent:"123112, Москва, Пресненская наб., д. 12, МФК «Федерация Восток»"},{preset:"islands#icon",iconColor:"#fed63f"});t.behaviors.disable("scrollZoom"),t.geoObjects.add(e)}),function(){if(0!==t(".faq").length){var e=t(".faq__questions-link"),n=t(".faq__answer"),a=t(".faq__content"),o=0;o=window.matchMedia("(max-width: 768px)").matches?50:150,e.on("click",function(i){i.preventDefault();var r=t(this);if(!r.hasClass("active")){var s=n.filter(".active"),l=e.filter(".active"),c=r.data("target"),d=n.filter("#"+c);l.removeClass("active"),s.fadeOut(300,function(){s.removeClass("active"),r.addClass("active"),d.addClass("active"),d.fadeIn(300),u(a,300,o)})}})}}();var f,v,p,m,h,g=document.querySelectorAll(".application-trigger");g.length>0&&g.forEach(function(e){e.addEventListener("click",function(e){MicroModal.show("applicationModal",{disableScroll:!0,awaitCloseAnimation:!0,onShow:function(e){!function(t){t.children[0].style.paddingRight=scrollBarWidth+"px",document.body.style.paddingRight=scrollBarWidth+"px"}(e),function(e){var n=e.querySelector(".modal__form"),a=n.querySelectorAll("input");console.log(a);t("#applicationEmail");var o=t("#applicationPhone"),i="+7 (f99) 999-99-99";o.inputmask({mask:i,showMaskOnHover:!1}),a.forEach(function(e){return e.addEventListener("focus",function(){return function(e){var n=t(e),a=n.siblings(".error");n.removeClass("error"),a.slideUp(200)}(e)})}),n.addEventListener("submit",function(e){if(e.preventDefault(),l=o.val(),!Inputmask.isValid(l,{mask:i}))return a="Неверно указан телефон",r=t(o),s=r.siblings(".error"),r.addClass("error"),s.text(a),void s.slideDown(200);var a,r,s,l,c=t(n).serialize();d("url",c).then(function(t){MicroModal.close("applicationModal")})})}(e)},onClose:function(t){!function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.children[0].style.paddingRight="",document.body.style.paddingRight="";var n=document.activeElement;n&&n.focus&&n.blur();e&&t.addEventListener("animationend",function t(){this.remove(),this.removeEventListener("animationend",t)})}(t,!1)}})})}),f=t(".main-header__navigation"),v=t(".alert-banner"),p=v.length>0?v.height()+75:75,f.css("top",p+"px"),t(".hamburger").click(function(){t(this).toggleClass("active"),f.toggleClass("active"),t("body").toggleClass("menu-opened")}),0!==(m=t(".index-slider, .index-bottom__slider")).length&&m.each(function(e,n){t(n).slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0})}),h=t(".main-nav__link.has-subnav"),window.matchMedia("(max-width: 1024px)").matches&&h.on("click",function(e){e.preventDefault(),t(this).next().slideToggle(300)}),function(){if(document.querySelector(".object-calc")){var e=document.querySelector(".object-calc__investment-range"),n=document.querySelector(".object-calc__investment-value"),a=document.querySelector(".object-calc__button"),o=wNumb({decimals:0,thousand:" "}),i=1e7,r=t(".object-calc__income-data"),s=r.find(".object-calc__income .value"),l=r.find(".object-calc__share .value"),c=r.find(".object-calc__step .value"),u=r.find(".object-calc__rate"),f=u.find(".value"),v=u.data("rate"),p=u.data("liberty-rate"),m=r.data("initial"),h=r.data("min"),g=r.data("max"),b=r.data("step"),y=r.data("liberty-step"),_=m>i?y:b,w=null,S=null;noUiSlider.create(e,{start:m,step:_,animate:!1,connect:"lower",range:{min:h,max:g}}),s.on("input",function(t){var e=o.from(t.target.textContent.trim()),n=function(t){var e,n,a=0;if(window.getSelection)(e=window.getSelection()).rangeCount&&(n=e.getRangeAt(0)).commonAncestorContainer.parentNode==t&&(a=n.endOffset);else if(document.selection&&document.selection.createRange&&(n=document.selection.createRange()).parentElement()==t){var o=document.createElement("span");t.insertBefore(o,t.firstChild);var i=n.duplicate();i.moveToElementText(o),i.setEndPoint("EndToEnd",n),a=i.text.length}return a}(t.target);e||(e=0),t.target.textContent=o.to(e),function(t,e){var n=document.createRange(),a=window.getSelection();n.setStart(t.childNodes[0],e),n.collapse(!0),a.removeAllRanges(),a.addRange(n)}(t.target,n)}),s.on("blur",function(t){var n=o.from(t.target.textContent.trim());s.text(o.to(n));var a=12*n/parseInt(f.text())*100;e.noUiSlider.set(a),L()}),l.on("blur",function(t){var n=parseInt(t.target.textContent.trim());isNaN(n)&&(n=h/b);var a=n*b;e.noUiSlider.set(a),L()}),c.on("blur",function(t){var e=o.from(t.target.textContent.trim());isNaN(e)&&(e=+b),C(S=e)}),f.on("blur",function(t){var n=parseFloat(t.target.textContent.trim());isNaN(n)&&(n=+v),w=n,s.text(o.to(e.noUiSlider.get()*(n/100)/12))}),document.addEventListener("keypress",function(t){13===t.keyCode&&t.target.classList.contains("value")&&t.target.isContentEditable&&(t.preventDefault(),t.stopPropagation(),t.target.blur())}),a.addEventListener("click",function(){var t=e.noUiSlider.get();d("url","investment=".concat(t)).then(function(t){})}),e.noUiSlider.on("update",function(t,e){var a=+t[e];n.textContent=o.to(a),x(a,w||(a>i?p:v),S||(a>i?y:b))}),e.noUiSlider.on("set",function(t,e){C(+t[e])})}function x(t,e,n){l.text(Math.floor(t/n)),s.text(o.to(t*e/100/12)),f.text(e),c.text(o.to(n))}function C(t){var n=S||(t>i?y:b);e.noUiSlider.updateOptions({step:n},!1)}function L(){var e=t(".noUi-connect"),n=t(".noUi-origin");e.addClass("transition"),n.addClass("transition"),setTimeout(function(){e.removeClass("transition"),n.removeClass("transition")},300)}}(),tippy(".object-card .tooltip",{placement:"bottom",arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="13" height="6" fill="none"><path d="M5.094 1.265a2 2 0 012.723 0L12.911 6H0l5.094-4.735z" fill="#fed63f"/></svg>'}),t(".object-card__play").modalVideo({allowAutoplay:!0}),function(){if(0!==t(".object-finances").length){var e=document.querySelector(".object-finances__table"),n=document.querySelector("#lineChart"),a=parseInt(window.getComputedStyle(n.parentNode).paddingLeft),o=null,i=document.querySelector("#columnChart"),r=parseInt(window.getComputedStyle(i.parentNode).paddingLeft),s=null,l=e.querySelectorAll("tr:not(:first-child) td"),d=l[0].getBoundingClientRect().height,u=l[1].getBoundingClientRect().width;l[0].getBoundingClientRect().width;console.log(u);var f=document.querySelector(".object-finances__hr"),v=document.querySelector(".object-finances__vr"),p=wNumb({decimals:2,thousand:" "}),m="12px",h=!1,g=52;window.matchMedia("(min-width: 1024px)").matches&&(m="15px",g=62,h=!0),l.forEach(function(t){t.addEventListener("mouseover",function(){var n=t.offsetParent.offsetTop+t.offsetTop+d;f.style.top="".concat(n,"px");var a=-5;1===_toConsumableArray(t.parentNode.children).indexOf(t)&&(a=parseInt(window.getComputedStyle(t).paddingLeft)-5);var o=t.offsetParent.offsetLeft+t.offsetLeft+a-e.scrollLeft;v.style.left="".concat(o,"px"),v.style.marginLeft="16px",f.classList.add("active"),v.classList.add("active")}),t.addEventListener("mouseout",function(){f.classList.remove("active"),v.classList.remove("active")})});var b=document.querySelector(".object-finances__scroll-next"),y=document.querySelector(".object-finances__scroll-prev"),_=document.querySelector(".object-finances__jump-next"),w=document.querySelector(".object-finances__jump-prev"),S=e.scrollWidth-e.clientWidth,x=c(function(t){function n(){var t=e.scrollLeft+u;y.classList.add("active"),w.classList.add("active"),t>S?clearInterval(k):(t>=S-u&&(b.classList.remove("active"),_.classList.remove("active")),O(t))}n(),k=setInterval(n,500)},200,!0),C=c(function(){function t(){var t=e.scrollLeft-u;t<=-u?clearInterval(k):(t<=0&&(y.classList.remove("active"),w.classList.remove("active")),t<=S&&(b.classList.add("active"),_.classList.add("active"),O(t)))}t(),k=setInterval(t,500)},200,!0),L=c(function(t){function n(){var t=e.scrollLeft+6*u;w.classList.add("active"),y.classList.add("active"),t>S&&(O(S),clearInterval(k)),t>=S-6*u&&(_.classList.remove("active"),b.classList.remove("active"))}n(),k=setInterval(n,500)},200,!0),j=c(function(){function t(){var t=e.scrollLeft-6*u;t<=-u&&(O(0),clearInterval(k)),t<=0&&(w.classList.remove("active"),y.classList.remove("active")),t<=S&&(_.classList.add("active"),b.classList.add("active"),O(t))}t(),k=setInterval(t,500)},200,!0);_.addEventListener("click",L),w.addEventListener("click",j);var k,A="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;if(console.log("touchDevice: ",A),A?(b.addEventListener("touchstart",x),b.addEventListener("touchend",function(){return clearInterval(k)}),y.addEventListener("touchstart",C),y.addEventListener("touchend",function(){return clearInterval(k)})):(b.addEventListener("mousedown",x),b.addEventListener("mouseup",function(){return clearInterval(k)}),y.addEventListener("mousedown",C),y.addEventListener("mouseup",function(){return clearInterval(k)})),n){var T=[3650.28,99999.8,242277.779,3172259.31,1669890.65,1647254.72,2863786.35,2513992.47,2795352.5,4823505.42,2925765.61,2570890.35,4195441.54,1001971.62,3348942.76,4656600.96,3395237.74,2890238.47,3082031.01,2952247,4196775.21,3602760.57,4025475.32,2729290.73,3654850.22,1135382.72,2504889.49,2557290.57,1795512.88,3098144.21,null],E=u;console.log(E);var I=E*T.length;Highcharts.chart("lineChart",{chart:{type:"line",scrollablePlotArea:{minWidth:I},marginTop:60,marginLeft:60},title:!1,credits:{enabled:!1},xAxis:{categories:["Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018","Июнь 2018","Июль 2018","Август 2018","Сентябрь 2018","Октябрь 2018","Ноябрь 2018","Декабрь 2018","Январь 2019","Февраль 2019","Март 2019","Апрель 2019","Май 2019","Июнь 2019","Июль 2019","Август 2019","Сентябрь 2019","Октябрь 2019","Ноябрь 2019","Декабрь 2019","Январь 2020",""],opposite:!0,tickPixelInterval:E,width:E*T.length,gridLineColor:"#197F07",offset:30,lineWidth:0,tickWidth:0,labels:{align:"left",style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px"}}},yAxis:{title:!1,gridLineColor:"#f2f2f2",labels:{style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px"},formatter:function(){return this.value/1e6+"M"}}},plotOptions:{line:{color:"#fed63f"},series:{dataLabels:{enabled:!0,align:"left",y:-5,style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"},formatter:function(t){var e=parseFloat(this.y);return e<1e5?p.to(+e.toFixed(2))+" ₽":p.to(e.toFixed(2)/1e3)+" тыс. ₽"}},point:{events:{mouseOver:function(t){var e=t.target;if(h){v.style.left="".concat(e.clientX+a+54-o.scrollLeft,"px"),v.style.marginLeft="",v.classList.add("active")}},mouseOut:function(){v.classList.remove("active")}}}}},tooltip:{enabled:!1},series:[{data:T}],legend:!1}),o=n.querySelector(".highcharts-scrolling")}if(i){var q=[48,8,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null],M=u,W=M*q.length;Highcharts.chart("columnChart",{chart:{scrollablePlotArea:{minWidth:W},marginTop:60,marginLeft:60},title:!1,credits:{enabled:!1},xAxis:{categories:["Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018","Июнь 2018","Июль 2018","Август 2018","Сентябрь 2018","Октябрь 2018","Ноябрь 2018","Декабрь 2018","Январь 2019","Февраль 2019","Март 2019","Апрель 2019","Май 2019","Июнь 2019","Июль 2019","Август 2019","Сентябрь 2019","Октябрь 2019","Ноябрь 2019","Декабрь 2019","Январь 2020",""],opposite:!0,tickPixelInterval:M,width:M*q.length,offset:30,lineWidth:0,tickWidth:0,labels:{align:"left",style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px",whiteSpace:"nowrap"}}},yAxis:[{title:!1,gridLineColor:"#f2f2f2",labels:{padding:0,style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",whiteSpace:"nowrap"}}},{visible:!0,gridLineColor:"transparent",min:0,max:100,title:!1,opposite:!0,labels:{padding:0,style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",whiteSpace:"nowrap"}}}],plotOptions:{column:{color:"#d8d8d8",pointWidth:g,pointPlacement:.22},line:{dataLabels:{formatter:function(){return this.y+"%"}}}},tooltip:{enabled:!1},series:[{data:q,type:"column",dataLabels:{enabled:!0,align:"left",y:-5,format:"{y} шт.",style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"}},states:{hover:{color:"#fed63f"},inactive:{opacity:1}},minPointLength:10,point:{events:{mouseOver:function(t){var e=t.target;if(h){v.style.left="".concat(e.clientX-e.pointWidth/2+r+59-s.scrollLeft,"px"),v.style.marginLeft="",v.classList.add("active")}},mouseOut:function(){v.classList.remove("active")}}}},{name:"Доходность",type:"line",data:[48,8,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null],color:"#000",dataLabels:{enabled:!0,y:30,format:"{y} %",style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"}},states:{hover:{enabled:!1},inactive:{opacity:1}}}],legend:!1}),s=i.querySelector(".highcharts-scrolling")}}function O(t){e.scrollTo({left:t,behavior:"smooth"}),o.scrollTo({left:t,behavior:"smooth"}),s.scrollTo({left:t,behavior:"smooth"})}}(),0!==t(".object-plans").length&&t(".object-plans__slider").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0}),0!==t(".object-slider").length&&(t(".object-slider__slider").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0}),t(".object-slider__play").modalVideo({allowAutoplay:!0})),function(){if(0!==t(".object").length){var e=t(".object__navigation-link"),n=document.querySelectorAll(".object__section");if(window.matchMedia("(min-width: 768px)").matches){var a=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){e.removeClass("active");var n=t.target.id;if(!n)return;e.filter("[data-scroll-to=".concat(n,"]")).addClass("active")}})},{rootMargin:"-50% 0% -50% 0%",root:null});n.forEach(function(t){return a.observe(t)})}e.on("click",function(n){n.preventDefault();var a=t(this);a.hasClass("locked")||(e.removeClass("active"),a.addClass("active"))})}}(),function(){if(document.querySelector(".partners-wrapper")){var t=_toConsumableArray(document.querySelectorAll(".partners-wrapper__step")),e=[document.querySelector(".partners-choice"),document.querySelector(".partners-status"),document.querySelector(".partners-income")];!function(){var n={rootMargin:"0px 0px -90% 0px",root:null,threshold:0};if("IntersectionObserver"in window){var a=new IntersectionObserver(function(n){n.forEach(function(n){var a=n.isIntersecting;if(a){var o=e.indexOf(n.target),i=t.find(function(t){return t.classList.contains("active")}),r=t.indexOf(i),s=t[o];if(r===o)return;i.classList.remove("active"),s.classList.add("active")}})},{rootMargin:n.rootMargin,root:n.root,threshold:n.threshold});e.forEach(function(t){return a.observe(t)})}else setTimeout(function(){items.forEach(function(t){t.classList.add("animated")})},300)}(),t[0].classList.add("active")}}(),function(){var e=document.querySelector(".profit-calc");if(e){var n=document.querySelector(".profit-calc__investment-range"),a=document.querySelector(".profit-calc__investment-value"),o=1e7,i=document.querySelector(".profit-calc__object-link"),r=wNumb({decimals:0,suffix:" ₽",thousand:" "}),s=t(".profit-calc__objects-nav"),l=t(".profit-calc__objects-slider"),c=1e6;!function(){var a=t(t(e).find(".profit-object")[0]),o=a.data("min"),i=a.data("max"),r=a.data("step");a.find(".profit-object__rate").data("rate");noUiSlider.create(n,{start:c,step:r,animate:!1,connect:"lower",range:{min:o,max:i}}),d(a,c)}(),l.on("init",function(e,n){var a=t(n.$slides[n.currentSlide]),o=t(a.children()[0]);d(o,c),u(o)}),l.on("beforeChange",function(e,a,i,r){if(i!==r){var s=t(a.$slides[r]),l=t(s.children()[0]),c=l.data("min"),v=l.data("max"),p=l.find(".profit-object__rate"),m=(p.data("rate"),p.data("liberty-rate"),parseInt(n.noUiSlider.get())),h=m>o?l.data("liberty-step"):l.data("step"),g=v<m?v:m;n.noUiSlider.updateOptions({start:g,step:h,range:{min:c,max:v}}),f(),d(l,g),u(l)}}),s.slick({rows:0,slidesToScroll:1,variableWidth:!0,asNavFor:l,arrows:!1,focusOnSelect:!0}),l.slick({rows:0,slidesToShow:1,slidesToScroll:1,arrows:!1,asNavFor:s}),n.noUiSlider.on("update",function(e,n){var o=+e[n];a.textContent=r.to(o);var i=l.find(".slick-current"),s=t(i.children()[0]);d(s,o),u(s)}),n.noUiSlider.on("set",function(e,a){var i=+e[a],r=l.find(".slick-current");!function(t,e){var a=t.data("step"),i=t.data("liberty-step"),r=e>o?i:a;console.log("step: ",r),n.noUiSlider.updateOptions({step:r},!1)}(t(r.children()[0]),i)}),n.noUiSlider.on("change",function(){f()})}function d(t,e){var n=t.find(".profit-object__income"),a=t.find(".profit-object__share"),i=t.find(".profit-object__rate"),s=i.data("rate"),l=i.data("liberty-rate"),c=e>o?l:s,d=t.data("step"),u=t.data("liberty-step"),f=+e>o?u:d;a.text(Math.floor(e/f)),n.text(r.to(e*c/100/12)),i.text(c+"%")}function u(t){var e=parseInt(n.noUiSlider.get());i.href=t.data("link")+"/"+e}function f(){var e=t(".noUi-connect"),n=t(".noUi-origin");e.addClass("transition"),n.addClass("transition"),setTimeout(function(){e.removeClass("transition"),n.removeClass("transition")},300)}}(),function(){var e=t(".project-calc");if(0!==e.length){var n=t(".project-calc__form"),a=e.find("input[data-format]"),o=e.find("input"),i=o.filter("[required]");o.each(function(e,o){t(o).on("change",function(t){_toConsumableArray(i).every(function(t){return t.value.trim().length>0})&&(_toConsumableArray(a).map(function(t){var e=t.value,n=t.dataset.format;if(e.length>0){var a=r[n].from(e);t.value=a}}),n.serialize(),_toConsumableArray(a).map(function(t){var e=parseInt(t.value),n=t.dataset.format;if(e){var a=r[n].to(e);t.value=a}}))})});var r={meter:wNumb({decimals:0,thousand:" ",suffix:" м²"}),ruble:wNumb({decimals:0,thousand:" ",suffix:" ₽"})};a.each(function(e,n){var a=t(n).data("format"),o=t(n).val()||"";t(n).on("input",function(e){var a=t(n).val();/^[0-9\s]*$/.test(a)?o=a:n.value=o}),t(n).on("blur",function(e){var o=parseInt(t(n).val().split(" ").join(""));o&&t(n).val(r[a].to(o))}),t(n).on("focus",function(e){var o=t(n).val();0!==o.length&&t(n).val(r[a].from(o))})})}}(),function(){var e=t(".project-select"),n=t(".project-select__option"),a=e.filter('[data-type="taxType"]');function o(){var n=e.filter(".active");0!==n.length&&n.each(function(e,n){var a=t(n).find(".project-select__options");t(n).removeClass("active"),a.fadeOut(300)})}e.on("click",function(e){e.stopPropagation(),function(e,n){o(),t(e).addClass("active"),n.fadeIn(300)}(this,t(this).find(".project-select__options"))}),n.on("click",function(e){e.stopPropagation();var n=t(this).data("value"),o=t(this).html(),i=t(this).parents(".project-select"),r=i.find(".project-select__options"),s=i.find(".project-select__selected"),l=i.find(".project-select__input");if(s.html(o),l.val(n),l.trigger("change"),"ownerType"===i.attr("id")){var c=t(this).attr("data-type");a.each(function(e,n){var a=t(n).find(".project-select__input"),o=t(n).find(".project-select__selected"),i=t(n).find(".project-select__option[data-type=".concat(c,"]"));a.val(i.data("value")),o.text(i.data("value"))})}!function(e,n){t(e).removeClass("active"),n.fadeOut(300)}(i,r)}),t(document).on("click",function(){o()})}()}});