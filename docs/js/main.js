function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}jQuery;var API="/app/ajax/";Inputmask.extendDefinitions({f:{validator:"[0-7|9]"}});var phoneMask="+7 (f99) 999-99-99",scrollBarWidth=getScrollbarWidth();function getScrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth}AOS.init({disable:"mobile",once:!0,duration:750}),$.noConflict(),jQuery(document).ready(function(t){if(t("body").removeClass("pageload"),"function"!=typeof Promise)document.createElement("picture"),n="/js/polyfills/browser.js",o=r,(i=document.createElement("script")).src=n,i.onload=function(){o()},i.onerror=function(){throw new Error("Failed to load script "+n)},document.head.appendChild(i);else{var e=performance.now();r();var a=performance.now();console.log("globalInitFunction took "+Math.floor(a-e)+"ms.")}var n,o,i;function r(){var e,a=function(t,e,a){var n;return function(){var o=this,i=arguments,r=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||t.apply(o,i)},e),r&&t.apply(o,i)}};function n(e,a){var n=t(e),o=n.siblings(".error");n.addClass("error"),o.text(a),o.slideDown(200)}function o(e){var a=t(e),n=a.siblings(".error");a.removeClass("error"),n.slideUp(200)}function i(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{processData:!0,contentType:"application/x-www-form-urlencoded"};return new Promise(function(o,i){t.ajax({url:API+e,type:"POST",data:a,processData:n.processData,contentType:n.contentType,success:function(t){var e=function(t){var e;try{e=JSON.parse(t)}catch(t){}return e}(t);o(e)},error:function(t){i(t)}})})}function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t(e).offset().top;t("html, body").animate({scrollTop:o-n},a)}function l(e){var a=e.querySelector(".account-settings-modal__form"),r=a.querySelectorAll("input"),l=(t("#settingsEmail"),t("#settingsPhone")),s="+7 (f99) 999-99-99";l.inputmask({mask:s,showMaskOnHover:!1}),r.forEach(function(t){return t.addEventListener("focus",function(){return o(t)})}),a.addEventListener("submit",function(e){var o;(e.preventDefault(),o=l.val(),Inputmask.isValid(o,{mask:s}))?i("url",t(a).serialize()).then(function(t){MicroModal.close("accountSettingsModal")}):n(l,"Неверно указан телефон")})}Inputmask.extendDefinitions({f:{validator:"[0-7|9]"}}),t("[data-scroll-to]").on("click",function(e){var a=t(this),n=a.data("scroll-to"),o=t("#".concat(n)),i=a.data("scroll-offset")||0;1===o.length&&r(o,300,i)}),t(".about-top__video-snippet").modalVideo({allowAutoplay:!0}),function(){document.querySelector(".account-details")&&(document.querySelectorAll(".tt-dropdown-menu").forEach(function(t){new SimpleBar(t,{autoHide:!1})}),document.querySelectorAll(".account-details__file-upload").forEach(function(t){var e,a,n;a=(e=t).querySelector(".account-details__upload-status"),(n=new Dropzone(e,{url:"upload.php",maxFiles:1,maxFilesize:2,autoProcessQueue:!1,acceptedFiles:"image/*",dictFileTooBig:"Слишком большой вес файла",dictInvalidFileType:"Выберите изображение"})).on("uploadprogress",function(t){}),n.on("addedfile",function(t,n){e.classList.remove("error"),e.classList.add("success"),a.textContent=""}),n.on("success",function(t){}),n.on("error",function(t,n){e.classList.remove("success"),e.classList.add("error"),a.textContent=n})}))}(),(e=document.querySelectorAll(".account-document")).length>0&&e.forEach(function(e){var a=e.querySelector(".account-document__header"),n=e.querySelector(".account-document__body");a.addEventListener("click",function(){e.classList.toggle("active"),a.classList.toggle("active"),t(n).slideToggle(250)})}),function(){var e=document.querySelector(".account-nav");if(e&&window.matchMedia("(max-width: 1199px)").matches){var a=e.querySelector(".account-nav__list"),n=e.querySelector(".account-nav__link.active"),o=_toConsumableArray(a.children),i=0;o.forEach(function(t){i+=t.getBoundingClientRect().width});var r=t(a);if(i>a.clientWidth+1){if(r.slick({dots:!1,rows:0,arrows:!1,infinite:!1,variableWidth:!0,touchThreshold:10,speed:200,swipeToSlide:!0}),n){var l=n.parentNode,s=_toConsumableArray(r.slick("getSlick").$slides).indexOf(l);r.slick("slickGoTo",s)}}else e.classList.add("full")}}(),function(){var e=document.querySelector(".account-settings__form");if(e){var a=e.querySelectorAll("input"),r=(t("#settingsEmail"),t("#settingsPhone")),l="+7 (f99) 999-99-99";r.inputmask({mask:l,showMaskOnHover:!1}),a.forEach(function(t){return t.addEventListener("focus",function(){return o(t)})}),e.addEventListener("submit",function(a){var o;a.preventDefault(),o=r.val(),Inputmask.isValid(o,{mask:l})?i("url",t(e).serialize()).then(function(t){MicroModal.close("accountSettingsModal")}):n(r,"Неверно указан телефон")})}}();var s,c,d,u,f,v,p=document.querySelectorAll(".application-trigger");function m(e){var a=e.querySelector(".modal__form"),r=a.querySelectorAll("input");console.log(r);t("#applicationEmail");var l=t("#applicationPhone"),s="+7 (f99) 999-99-99";l.inputmask({mask:s,showMaskOnHover:!1}),r.forEach(function(t){return t.addEventListener("focus",function(){return o(t)})}),a.addEventListener("submit",function(e){var o;(e.preventDefault(),o=l.val(),Inputmask.isValid(o,{mask:s}))?i("url",t(a).serialize()).then(function(t){MicroModal.close("applicationModal")}):n(l,"Неверно указан телефон")})}p.length>0&&p.forEach(function(t){t.addEventListener("click",function(t){MicroModal.show("applicationModal",{disableScroll:!0,awaitCloseAnimation:!0,onShow:function(t){S(t),m(t)},onClose:function(t){x(t,!1)}})})}),function(){var t=document.querySelector(".monitoring-sale-modal"),e=t.querySelector("form");if(t){var a={amount:wNumb({decimals:5,thousand:" "}),price:wNumb({decimals:2,thousand:" "}),ruble:wNumb({decimals:2,thousand:" ",suffix:" ₽"})},n=t.querySelector("#shareAmount"),o=t.querySelector("#sharePrice"),i=t.querySelector("#shareResult");n.addEventListener("change",function(t){var e=parseFloat(t.target.value);e||(e=0),e=parseFloat(e.toFixed(5)),t.target.value=a.amount.to(e),r()}),o.addEventListener("change",function(t){var e=parseFloat(t.target.value);e||(e=0),e=parseFloat(e.toFixed(2)),t.target.value=a.price.to(e),r()}),n.value=a.amount.to(parseFloat(n.value)),o.value=a.price.to(parseFloat(o.value)),i.textContent=a.ruble.to(parseFloat(i.textContent)),e.addEventListener("submit",function(t){n.value=a.amount.from(n.value),o.value=a.price.from(o.value),i.textContent=a.ruble.from(i.textContent)})}function r(){var t=a.amount.from(n.value),e=a.price.from(o.value);i.textContent=a.ruble.to(t*e)}}(),s=t(".authorization__toggle"),c=t(".authorization__logged"),d=t(".authorization__list"),c.on("click",function(){s.toggleClass("active"),d.hasClass("active")?(d.slideUp(),d.removeClass("active")):(d.slideDown(),d.addClass("active"))}),document.querySelectorAll(".authorization__settings").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),MicroModal.show("accountSettingsModal",{disableScroll:!0,disableFocus:!0,awaitCloseAnimation:!0,onShow:function(t){S(t),l(t)},onClose:function(t){x(t,!1)}})})}),document.querySelectorAll(".feedback-trigger").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),MicroModal.show("accountFeedbackModal",{disableScroll:!0,disableFocus:!0,awaitCloseAnimation:!0,onShow:function(t){S(t)},onClose:function(t){x(t,!1)}})})}),function(){var e=t(".base-input__input, .base-input__textarea");console.log("$inputs: ",e);var a=t(".base-input-autocomplete");e.each(function(){""!==t(this).val().trim()&&t(this).closest(".base-input").addClass("hasValue"),t(this).on("blur",function(){""!==t(this).val().trim()?t(this).closest(".base-input").addClass("hasValue"):t(this).closest(".base-input").removeClass("hasValue")})}),a.each(function(){var e=t(this).find("input"),a=t(this).find("label");e.on("focus",function(){a.addClass("js-focus")}),e.on("blur",function(){a.removeClass("js-focus")})})}(),u=t(".base-select__input"),f=t(".base-select__options-list"),v=t(".base-select__options-item"),0!=u.length&&(""!==u.val().trim()&&u.addClass("hasValue"),u.on("blur",function(){""!==u.val().trim()?u.addClass("hasValue"):u.removeClass("hasValue")}),u.on("click",function(){u.parent().addClass("active"),f.slideDown()}),t(document).on("click",function(t){u.parent().hasClass("active")&&t.target!==u&&0===u.parent().has(t.target).length&&(u.parent().removeClass("active"),f.slideUp())}),v.each(function(){t(this).on("click",function(e){var a=t(this).text();u.val(a),u.addClass("hasValue"),u.parent().removeClass("active"),f.slideUp()})})),function(){var e=t(".best-object-card");if(0!==e.length){var a=["#1cb96f","#fed63f","#ffa30c"];e.each(function(e,n){var o=parseInt(t(n).data("rate")),i=t(n).find(".best-object-card__rate");o>=80?i.css("color",a[0]):o<80&&o>=50?i.css("color",a[1]):i.css("color",a[2]),t(n).css("top","calc(".concat(100-o,"% + ").concat(8,"px"))})}}(),0!==t(".best-objects").length&&t(".best-objects__objects").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0,mobileFirst:!0,infinite:!1,responsive:[{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:1023,settings:{slidesToShow:2.25}},{breakpoint:1199,settings:{slidesToShow:3}}]}),0!==t(".contacts").length&&ymaps.ready(function(){var t=new ymaps.Map("map",{center:[55.749511,37.537083],zoom:15,controls:["zoomControl"]}),e=new ymaps.Placemark([55.749511,37.537083],{hintContent:"123112, Москва, Пресненская наб., д. 12, МФК «Федерация Восток»",balloonContent:"123112, Москва, Пресненская наб., д. 12, МФК «Федерация Восток»"},{preset:"islands#icon",iconColor:"#fed63f"});t.behaviors.disable("scrollZoom"),t.geoObjects.add(e)});var h,g,b,y,_;function S(t){t.children[0].style.paddingRight=scrollBarWidth+"px",document.body.style.paddingRight=scrollBarWidth+"px"}function x(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.children[0].style.paddingRight="",document.body.style.paddingRight="";var a=document.activeElement;a&&a.focus&&a.blur(),e&&t.addEventListener("animationend",function t(){this.remove(),this.removeEventListener("animationend",t)})}!function(){if(0!==t(".faq").length){var e=t(".faq__questions-link"),a=t(".faq__answer"),n=t(".faq__content"),o=0;o=window.matchMedia("(max-width: 768px)").matches?50:150,e.on("click",function(i){i.preventDefault();var l=t(this);if(!l.hasClass("active")){var s=a.filter(".active"),c=e.filter(".active"),d=l.data("target"),u=a.filter("#"+d);c.removeClass("active"),s.fadeOut(300,function(){s.removeClass("active"),l.addClass("active"),u.addClass("active"),u.fadeIn(300),r(n,300,o)})}})}}(),h=t(".main-header__navigation"),g=t(".alert-banner"),b=g.length>0?g.height()+75:75,h.css("top",b+"px"),t(".hamburger").click(function(){t(this).toggleClass("active"),h.toggleClass("active"),t("body").toggleClass("menu-opened")}),0!==(y=t(".index-slider, .index-bottom__slider")).length&&y.each(function(e,a){t(a).slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0})}),_=t(".main-nav__link.has-subnav"),window.matchMedia("(max-width: 1024px)").matches&&_.on("click",function(e){e.preventDefault(),t(this).next().slideToggle(300)}),function(){var t=document.getElementById("income-monitoring");if(t){var e=[2500,1700,1200,1600,1250,650,2500,1700,1200,1600,1250,650],a=[5,10,20,35,20,15,5,20,20,35,20,15],n=Math.max.apply(Math,a),o=Math.max.apply(Math,e),i=getComputedStyle(t).getPropertyValue("--fund-color").trim();setTimeout(function(){var e=t.querySelector(".highcharts-scrolling");0!==e.length&&new SimpleBar(e,{autoHide:!1})},1e3);var r=62.5*e.length;Highcharts.chart("income-monitoring",{chart:{marginTop:20,marginRight:24,marginLeft:24,scrollablePlotArea:{minWidth:r},events:{load:function(){var t=this.series[0].data,e=this.series[1].data;t.forEach(function(t,a){var n=t.dataLabel.attr(),o=n.x,i=n.y,r=t.dataLabel.getBBox().height,l=e[a].dataLabel.attr(),s=l.x,c=l.y,d=e[a].dataLabel.getBBox().height;i+1.1*r>c&&i<c+1.1*d&&(i<c?c=i-1.25*r:i=c+1.25*d),e[a].dataLabel.attr({x:s,y:c}),t.dataLabel.attr({x:o,y:i})})}}},title:{text:""},exporting:{enabled:!1},plotOptions:{series:{dataLabels:{allowOverlap:!0},states:{inactive:{opacity:1}}},line:{dataLabels:{align:"center",enabled:!0,color:"black",padding:10,crop:!1,overflow:"none",style:{textOutline:"none",fontSize:"10px",fontWeight:500,fontFamily:"Montserrat"},formatter:function(){return this.y+"%"}}},column:{pointWidth:50,dataLabels:{align:"center",enabled:!0,color:"black",padding:2,crop:!1,overflow:"none",style:{textOutline:"none",fontSize:"10px",fontWeight:500,fontFamily:"Montserrat"},formatter:function(){return this.y<1e3?this.y:this.y/1e3+"k"}}}},xAxis:[{categories:["02.18","03.18","04.18","05.18","06.18","07.18","08.18","09.18","10.18","11.18","12.18","01.19"],crosshair:!1,labels:{style:{color:"#696969",fontSize:"10px",fontFamily:"Montserrat",fontWeight:500}}}],yAxis:[{min:0,max:n,title:{text:""},opposite:!0,labels:{x:5}},{max:o,title:{text:""},width:40,labels:{x:-6}}],legend:{enabled:!1},credits:{enabled:!1},series:[{name:"Сумма выплат",type:"column",yAxis:1,data:e,color:i,tooltip:{pointFormatter:function(){return"Сумма выплат: <b>"+this.y.toLocaleString()+" 000 руб</b><br>Доля от общих выплат: <b>"+Math.floor(this.y/e.reduce(function(t,e){return t+e},0)*100)+"%</b>"}}},{name:"Доходность",type:"line",data:a,color:"#000",tooltip:{valueSuffix:"%"}}]})}}(),function(){var t=document.querySelector(".monitoring-header__chart");if(t){var e=t.querySelector(".line"),a=["#79A0FF","#C29BF6","#F598E2","#FF9BC6","#FFA9AB","#FFBD96","#FFD48C","#FFEB93"].reverse(),n=null;Highcharts.chart("funds-chart",{chart:{type:"bar",height:90,margin:0},colors:a,title:{text:""},exporting:{enabled:!1},xAxis:[{categories:["Фонды"],crosshair:!1,labels:{enabled:!1},title:{enabled:!1},visible:!1}],yAxis:{max:100,labels:{enabled:!1},title:{enabled:!1},visible:!1},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{bar:{pointWidth:30},series:{stacking:"normal",borderWidth:0,cursor:"pointer",point:{events:{mouseOver:function(t){n=this,e.style.backgroundColor=this.color,e.style.right=this.shapeArgs.y+"px",e.style.top=this.shapeArgs.x+this.shapeArgs.width+"px",e.style.width=this.shapeArgs.height+"px",e.classList.add("visible")},mouseOut:function(){n=null,e.classList.remove("visible")},click:function(t){window.location.href=t.point.url}}},states:{hover:{enabled:!1},inactive:{opacity:1}}}},tooltip:{positioner:function(t,e,a){var o=this.chart.plotSizeY,i=n.shapeArgs.height,r=o-n.plotY-i+(i-t)/2;return{x:r=(r=r<0?6:r)+t>o?o-t:r,y:a.plotY+30}},shadow:!1,padding:0,borderWidth:0,style:{fontSize:"10px",fontWeight:600,fontFamily:"Montserrat"},backgroundColor:"transparent",headerFormat:"",hideDelay:100,pointFormatter:function(){return"".concat(this.series.name," | ").concat(this.y," %")}},series:[{name:"Активо восемь",data:[{y:20,url:"/aktivo-8"}]},{name:"Активо семь",data:[{y:16,url:"/aktivo-7"}]},{name:"Активо шесть",data:[{y:16,url:"/aktivo-6"}]},{name:"Активо пять",data:[{y:14,url:"/aktivo-5"}]},{name:"Активо четыре",data:[{y:12,url:"/aktivo-4"}]},{name:"Активо три",data:[{y:9,url:"/aktivo-3"}]},{name:"Активо два",data:[{y:7,url:"/aktivo-2"}]},{name:"Активо один",data:[{y:6,url:"/aktivo-1"}]}]})}}();var w=document.querySelectorAll(".application-trigger");function m(e){var a=e.querySelector(".modal__form"),r=a.querySelectorAll("input");console.log(r);t("#applicationEmail");var l=t("#applicationPhone"),s="+7 (f99) 999-99-99";l.inputmask({mask:s,showMaskOnHover:!1}),r.forEach(function(t){return t.addEventListener("focus",function(){return o(t)})}),a.addEventListener("submit",function(e){var o;(e.preventDefault(),o=l.val(),Inputmask.isValid(o,{mask:s}))?i("url",t(a).serialize()).then(function(t){MicroModal.close("applicationModal")}):n(l,"Неверно указан телефон")})}w.length>0&&w.forEach(function(t){t.addEventListener("click",function(t){MicroModal.show("applicationModal",{disableScroll:!0,awaitCloseAnimation:!0,onShow:function(t){S(t),m(t)},onClose:function(t){x(t,!1)}})})}),function(){var t=document.querySelector(".monitoring-steps");if(t){var e=t.querySelector(".monitoring-steps__container");new SimpleBar(e,{autoHide:!1})}}(),function(){if(document.querySelector(".object-calc")){var t=document.querySelector(".object-calc__investment-range"),e=document.querySelector(".object-calc__investment-value"),a=document.querySelector(".object-calc__button"),n=document.querySelector(".object-calc__income-data"),o=n.querySelector(".object-calc__income .value"),r=n.querySelector(".object-calc__share .value"),l=n.querySelector(".object-calc__step .value"),s=n.querySelector(".object-calc__rate .value"),c=parseInt(n.dataset.initial),d=parseInt(n.dataset.min),u=parseInt(n.dataset.max),f=parseInt(n.dataset.step),v=parseFloat(n.dataset.rate),p=null,m=null,h=wNumb({decimals:0,thousand:" "});o.addEventListener("blur",function(e){var a=h.from(o.textContent.trim());o.textContent=h.to(a);var n=12*a/parseFloat(s.textContent)*100;t.noUiSlider.set(n),g()}),r.addEventListener("blur",function(e){var a=parseInt(r.textContent.trim());isNaN(a)&&(a=d/f);var n=a*(m||f);t.noUiSlider.set(n),g()}),l.addEventListener("blur",function(e){var a,n,o,i=h.from(l.textContent.trim());isNaN(i)&&(i=parseInt(f)),n=(a=m=i)>=d?a:a*Math.ceil(d/a),o=u%a==0?0:a,t.noUiSlider.updateOptions({step:a,padding:[n,o]},!1)}),s.addEventListener("blur",function(e){var a=parseFloat(s.textContent.trim());isNaN(a)&&(a=parseFloat(v)),p=a,o.textContent=h.to(t.noUiSlider.get()*(a/100)/12)}),document.addEventListener("keypress",function(t){13===t.keyCode&&t.target.classList.contains("value")&&t.target.isContentEditable&&(t.preventDefault(),t.stopPropagation(),t.target.blur())}),noUiSlider.create(t,{start:c,step:f,animate:!1,connect:"lower",range:{min:0,max:u},padding:[d,0]}),a.addEventListener("click",function(){var e=t.noUiSlider.get();i("url","investment=".concat(e)).then(function(t){})}),t.noUiSlider.on("update",function(t,a){console.log("update");var n=+t[a];e.textContent=h.to(n),function(t,e,a){o.textContent=h.to(t*e/100/12),r.textContent=t/a,s.textContent=e,l.textContent=h.to(a)}(n,p||v,m||f)})}function g(){var t=document.querySelector(".noUi-connect"),e=document.querySelector(".noUi-origin");t.classList.add("transition"),e.classList.add("transition"),setTimeout(function(){t.classList.remove("transition"),e.classList.remove("transition")},300)}}(),tippy(".object-card .tooltip",{placement:"bottom",arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="13" height="6" fill="none"><path d="M5.094 1.265a2 2 0 012.723 0L12.911 6H0l5.094-4.735z" fill="#fed63f"/></svg>'}),t(".object-card__play").modalVideo({allowAutoplay:!0}),function(){if(0!==t(".object-finances").length){var e=document.querySelector(".object-finances__table"),n=document.querySelector("#lineChart"),o=parseInt(window.getComputedStyle(n.parentNode).paddingLeft),i=null,r=document.querySelector("#columnChart"),l=parseInt(window.getComputedStyle(r.parentNode).paddingLeft),s=null,c=e.querySelectorAll("tr:not(:first-child) td"),d=c[0].getBoundingClientRect().height,u=c[1].getBoundingClientRect().width,f=document.querySelector(".object-finances__hr"),v=document.querySelector(".object-finances__vr"),p=wNumb({decimals:2,thousand:" "}),m="12px",h=!1,g=52;window.matchMedia("(min-width: 1024px)").matches&&(m="15px",g=62,h=!0),c.forEach(function(t){t.addEventListener("mouseover",function(){var a=t.offsetParent.offsetTop+t.offsetTop+d;f.style.top="".concat(a,"px");var n=-5;1===_toConsumableArray(t.parentNode.children).indexOf(t)&&(n=parseInt(window.getComputedStyle(t).paddingLeft)-5);var o=t.offsetParent.offsetLeft+t.offsetLeft+n-e.scrollLeft;v.style.left="".concat(o,"px"),v.style.marginLeft="16px",f.classList.add("active"),v.classList.add("active")}),t.addEventListener("mouseout",function(){f.classList.remove("active"),v.classList.remove("active")})});var b=document.querySelector(".object-finances__scroll-next"),y=document.querySelector(".object-finances__scroll-prev"),_=document.querySelector(".object-finances__jump-next"),S=document.querySelector(".object-finances__jump-prev"),x=e.scrollWidth-e.clientWidth,w=a(function(t){function a(){var t=e.scrollLeft+u;y.classList.add("active"),S.classList.add("active"),t>x&&clearInterval(E),t>=x-u&&(b.classList.remove("active"),_.classList.remove("active")),W(t)}a(),E=setInterval(a,500)},200,!0),L=a(function(){function t(){var t=e.scrollLeft-u;t<=-u?clearInterval(E):(t<=0&&(y.classList.remove("active"),S.classList.remove("active")),t<=x&&(b.classList.add("active"),_.classList.add("active"),W(t)))}t(),E=setInterval(t,500)},200,!0),C=a(function(t){var a=e.scrollLeft+6*u;S.classList.add("active"),y.classList.add("active"),a>=x-6*u?(W(x),_.classList.remove("active"),b.classList.remove("active")):W(a)},200,!0),k=a(function(){var t=e.scrollLeft-6*u;t<=-u&&W(0);t<=0&&(S.classList.remove("active"),y.classList.remove("active"));t<=x&&(_.classList.add("active"),b.classList.add("active"),W(t))},200,!0);_.addEventListener("click",C),S.addEventListener("click",k);var E,q="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;if(console.log("touchDevice: ",q),q?(b.addEventListener("touchstart",w),b.addEventListener("touchend",function(){return clearInterval(E)}),y.addEventListener("touchstart",L),y.addEventListener("touchend",function(){return clearInterval(E)})):(b.addEventListener("mousedown",w),b.addEventListener("mouseup",function(){return clearInterval(E)}),y.addEventListener("mousedown",L),y.addEventListener("mouseup",function(){return clearInterval(E)})),n){var j=[99999.8,242277.779,3172259.31,1669890.65,1647254.72,2863786.35,2513992.47,2795352.5,4823505.42,2925765.61,99999.8,242277.779,3172259.31,1669890.65,1647254.72,2863786.35,2513992.47,2795352.5,4823505.42,2925765.61,null],A=u;console.log(A);var M=A*j.length;Highcharts.chart("lineChart",{chart:{type:"line",scrollablePlotArea:{minWidth:M},marginTop:60,marginLeft:60},title:!1,credits:{enabled:!1},xAxis:{categories:["Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018","Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018",""],opposite:!0,tickPixelInterval:A,width:A*j.length,gridLineColor:"#197F07",offset:30,lineWidth:0,tickWidth:0,labels:{align:"left",style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px"}}},yAxis:{title:!1,gridLineColor:"#f2f2f2",labels:{style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px"},formatter:function(){return this.value/1e6+"M"}}},plotOptions:{line:{color:"#fed63f"},series:{dataLabels:{enabled:!0,align:"left",y:-5,style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"},formatter:function(t){var e=parseFloat(this.y);return e<1e5?p.to(+e.toFixed(2))+" ₽":p.to(e.toFixed(2)/1e3)+" тыс. ₽"}},point:{events:{mouseOver:function(t){var e=t.target;if(h){v.style.left="".concat(e.clientX+o+54-i.scrollLeft,"px"),v.style.marginLeft="",v.classList.add("active")}},mouseOut:function(){v.classList.remove("active")}}}}},tooltip:{enabled:!1},series:[{data:j}],legend:!1}),i=n.querySelector(".highcharts-scrolling")}if(r){var F=[480,80,70,0,0,0,0,0,0,70,489,89,70,0,0,0,0,0,0,7,null],T=u,I=T*F.length;Highcharts.chart("columnChart",{chart:{scrollablePlotArea:{minWidth:I},marginTop:60,marginLeft:60},title:!1,credits:{enabled:!1},xAxis:{categories:["Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018","Август 2017","Сентябрь 2017","Октябрь 2017","Ноябрь 2017","Декабрь 2017","Январь 2018","Февраль 2018","Март 2018","Апрель 2018","Май 2018",""],opposite:!0,tickPixelInterval:T,width:T*F.length,offset:30,lineWidth:0,tickWidth:0,labels:{align:"left",style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",paddingLeft:"5px",whiteSpace:"nowrap"}}},yAxis:[{title:!1,gridLineColor:"#f2f2f2",labels:{padding:0,style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",whiteSpace:"nowrap"}}},{visible:!0,gridLineColor:"transparent",title:!1,opposite:!0,labels:{padding:0,style:{color:"#9e9e9e",fontSize:m,fontWeight:"600",fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",whiteSpace:"nowrap"}}}],plotOptions:{column:{color:"#d8d8d8",pointWidth:g,pointPlacement:.22},line:{dataLabels:{formatter:function(){return this.y+"%"}}}},tooltip:{enabled:!1},series:[{data:F,type:"column",dataLabels:{enabled:!0,align:"left",y:-5,format:"{y} шт.",style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"}},states:{hover:{color:"#fed63f"},inactive:{opacity:1}},minPointLength:10,point:{events:{mouseOver:function(t){var e=t.target;if(h){v.style.left="".concat(e.clientX-e.pointWidth/2+l+59-s.scrollLeft,"px"),v.style.marginLeft="",v.classList.add("active")}},mouseOut:function(){v.classList.remove("active")}}}},{data:[48,8,7,0,0,0,0,0,0,7,48,8,7,0,0,0,0,0,0,7,null],name:"Доходность",type:"line",color:"#000",yAxis:1,dataLabels:{enabled:!0,y:30,format:"{y} %",style:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif;",fontSize:"14px",fontWeight:"400"}},states:{hover:{enabled:!1},inactive:{opacity:1}}}],legend:!1}),s=r.querySelector(".highcharts-scrolling")}}function W(t){e.scrollTo({left:t,behavior:"smooth"}),i.scrollTo({left:t,behavior:"smooth"}),s.scrollTo({left:t,behavior:"smooth"})}}(),0!==t(".object-plans").length&&t(".object-plans__slider").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0}),0!==t(".object-slider").length&&(t(".object-slider__slider").slick({rows:0,slidesToScroll:1,slidesToShow:1,arrows:!0}),t(".object-slider__play").modalVideo({allowAutoplay:!0})),function(){if(0!==t(".object").length){var e=t(".object__navigation-link"),a=document.querySelectorAll(".object__section");if(window.matchMedia("(min-width: 768px)").matches){var n=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){e.removeClass("active");var a=t.target.id;if(!a)return;e.filter("[data-scroll-to=".concat(a,"]")).addClass("active")}})},{rootMargin:"-50% 0% -50% 0%",root:null});a.forEach(function(t){return n.observe(t)})}e.on("click",function(a){a.preventDefault();var n=t(this);n.hasClass("locked")||(e.removeClass("active"),n.addClass("active"))})}}(),function(){var e=document.querySelector(".partner-friends");if(e){e.querySelectorAll(".partner-friends__header").forEach(function(e){e.addEventListener("click",function(a){var n=e.nextElementSibling;e.classList.toggle("active"),e.parentElement.classList.toggle("active"),t(n).slideToggle(200)})});var a=e.querySelector(".partner-friends__wrapper");new SimpleBar(a,{autoHide:!1})}}(),function(){var e=document.querySelector(".partner-links");if(e){e.querySelectorAll(".copy").forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation();var a=t.previousElementSibling;a.disabled=!1,a.select(),a.setSelectionRange(0,99999),document.execCommand("copy"),a.disabled=!0})}),e.querySelectorAll(".partner-links__header").forEach(function(e){e.addEventListener("click",function(a){console.log(a.target);var n=e.nextElementSibling;e.classList.toggle("active"),e.parentElement.classList.toggle("active"),t(n).slideToggle(200)})});var a=e.querySelector(".partner-links__wrapper");new SimpleBar(a,{autoHide:!1})}}(),function(){if(document.querySelector(".partners-wrapper")){var t=_toConsumableArray(document.querySelectorAll(".partners-wrapper__step")),e=[document.querySelector(".partners-choice"),document.querySelector(".partners-status"),document.querySelector(".partners-income")];!function(){var a={rootMargin:"0px 0px -90% 0px",root:null,threshold:0};if("IntersectionObserver"in window){var n=new IntersectionObserver(function(a){a.forEach(function(a){var n=a.isIntersecting;if(n){var o=e.indexOf(a.target),i=t.find(function(t){return t.classList.contains("active")}),r=t.indexOf(i),l=t[o];if(r===o)return;i.classList.remove("active"),l.classList.add("active")}})},{rootMargin:a.rootMargin,root:a.root,threshold:a.threshold});e.forEach(function(t){return n.observe(t)})}else setTimeout(function(){items.forEach(function(t){t.classList.add("animated")})},300)}(),t[0].classList.add("active")}}(),function(){var e=document.querySelector(".profit-calc");if(e){var a=document.querySelector(".profit-calc__investment-range"),n=document.querySelector(".profit-calc__investment-value"),o=document.querySelector(".profit-calc__object-link"),i=wNumb({decimals:0,thousand:" "}),r=t(".profit-calc__objects-nav"),l=t(".profit-calc__objects-slider");l.find(".profit-object").each(function(e,n){!function(t){var e=t.find(".profit-object__income .value"),n=t.find(".profit-object__share .value"),o=t.find(".profit-object__rate .value"),r=t.find(".profit-object__step .value"),l=t.data("min"),s=(t.data("max"),t.data("step")),c=t.data("rate");e.on("blur",function(t){var n=i.from(e.text().trim());e.text(i.to(n));var r=parseFloat(o.text()),l=12*n/r*100;a.noUiSlider.set(l),m()}),n.on("blur",function(t){var e=parseInt(n.text().trim());isNaN(e)&&(e=l/s);var o=e*s;a.noUiSlider.set(o),m()}),r.on("blur",function(e){var n=i.from(r.text().trim());isNaN(n)&&(n=parseInt(s)),t.attr("data-custom-step",n),function(t,e){var n=t.data("min"),o=t.data("max"),i=e>=n?e:e*Math.ceil(n/e),r=o%e==0?0:e;a.noUiSlider.updateOptions({step:e,padding:[i,r]},!1)}(t,n)}),o.on("blur",function(n){var r=parseFloat(o.text().trim());isNaN(r)&&(r=parseFloat(c)),t.attr("data-custom-rate",r),e.text(i.to(a.noUiSlider.get()*(r/100)/12))})}(t(n))});var s,c,d,u,f=1e6;s=t(t(e).find(".profit-object")[0]),c=s.data("min"),d=s.data("max"),u=s.data("step"),noUiSlider.create(a,{start:f,step:u,animate:!1,connect:"lower",range:{min:0,max:d},padding:[c,0]}),v(s,f),l.on("init",function(e,a){var n=t(a.$slides[a.currentSlide]),o=t(n.children()[0]);v(o,f),p(o)}),l.on("afterChange",function(e,n,o,i){var r=t(n.$slides[o]),l=t(r.children()[0]),s=l.data("min"),c=l.data("max"),d=l.data("step"),u=parseInt(a.noUiSlider.get()),f=c<u?c:u;a.noUiSlider.updateOptions({start:f,step:d,range:{min:0,max:c},padding:[s,0]}),m()}),r.slick({rows:0,slidesToScroll:1,variableWidth:!0,asNavFor:l,arrows:!1,focusOnSelect:!0}),l.slick({rows:0,slidesToShow:1,slidesToScroll:1,arrows:!1,accessibility:!1,asNavFor:r}),a.noUiSlider.on("update",function(e,a){var o=+e[a];n.textContent=i.to(o);var r=l.find(".slick-current"),s=t(r.children()[0]);v(s,o),p(s)}),a.noUiSlider.on("change",function(){m()}),document.addEventListener("keypress",function(t){13===t.keyCode&&t.target.classList.contains("value")&&t.target.isContentEditable&&(t.preventDefault(),t.stopPropagation(),t.target.blur())})}function v(t,e){var a=t.find(".profit-object__income .value"),n=t.find(".profit-object__share .value"),o=t.find(".profit-object__rate .value"),r=t.find(".profit-object__step .value"),l=t.data("rate"),s=parseInt(t.attr("data-custom-rate")),c=t.data("step"),d=parseInt(t.attr("data-custom-step")),u=s||l,f=d||c;n.text(Math.floor(e/f)),a.text(i.to(e*u/100/12)),o.text(u),r.text(i.to(f))}function p(t){var e=parseInt(a.noUiSlider.get());o.href=t.data("link")+"/"+e}function m(){var e=t(".noUi-connect"),a=t(".noUi-origin");e.addClass("transition"),a.addClass("transition"),setTimeout(function(){e.removeClass("transition"),a.removeClass("transition")},300)}}(),function(){var e=t(".project-calc");if(0!==e.length){var a=t(".project-calc__form"),n=e.find("input[data-format]"),o=e.find("input"),i=o.filter("[required]");o.each(function(e,o){t(o).on("change",function(t){_toConsumableArray(i).every(function(t){return t.value.trim().length>0})&&(_toConsumableArray(n).map(function(t){var e=t.value,a=t.dataset.format;if(e.length>0){var n=r[a].from(e);t.value=n}}),a.serialize(),_toConsumableArray(n).map(function(t){var e=parseInt(t.value),a=t.dataset.format;if(e){var n=r[a].to(e);t.value=n}}))})});var r={meter:wNumb({decimals:0,thousand:" ",suffix:" м²"}),ruble:wNumb({decimals:0,thousand:" ",suffix:" ₽"})};n.each(function(e,a){var n=t(a).data("format"),o=t(a).val()||"";t(a).on("input",function(e){var n=t(a).val();/^[0-9\s]*$/.test(n)?o=n:a.value=o}),t(a).on("blur",function(e){var o=parseInt(t(a).val().split(" ").join(""));o&&t(a).val(r[n].to(o))}),t(a).on("focus",function(e){var o=t(a).val();0!==o.length&&t(a).val(r[n].from(o))})})}}(),function(){var e=t(".project-select"),a=t(".project-select__option"),n=e.filter('[data-type="taxType"]');function o(){var a=e.filter(".active");0!==a.length&&a.each(function(e,a){var n=t(a).find(".project-select__options");t(a).removeClass("active"),n.fadeOut(300)})}e.on("click",function(e){e.stopPropagation(),function(e,a){o(),t(e).addClass("active"),a.fadeIn(300)}(this,t(this).find(".project-select__options"))}),a.on("click",function(e){e.stopPropagation();var a=t(this).data("value"),o=t(this).html(),i=t(this).parents(".project-select"),r=i.find(".project-select__options"),l=i.find(".project-select__selected"),s=i.find(".project-select__input");if(l.html(o),s.val(a),s.trigger("change"),"ownerType"===i.attr("id")){var c=t(this).attr("data-type");n.each(function(e,a){var n=t(a).find(".project-select__input"),o=t(a).find(".project-select__selected"),i=t(a).find(".project-select__option[data-type=".concat(c,"]"));n.val(i.data("value")),o.text(i.data("value"))})}!function(e,a){t(e).removeClass("active"),a.fadeOut(300)}(i,r)}),t(document).on("click",function(){o()})}()}});